<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Property Details | DreamHomes</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      display: flex;
      flex-direction: column;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f8f9fa;
    }

    main {
      flex: 1;
    }

    .property-gallery img {
      width: 100%;
      border-radius: 10px;
    }

    .map-container iframe {
      width: 100%;
      height: 300px;
      border: none;
      border-radius: 10px;
    }

    footer {
      background: #212529;
      color: white;
      padding: 1rem 0;
    }
  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark px-4">
  <a class="navbar-brand" href="index.html">DreamHomes</a>
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav ms-auto">
      <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
      <li class="nav-item"><a class="nav-link" href="listings.html">Listings</a></li>
      <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
      <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
    </ul>
  </div>
</nav>

<!-- Main Content -->
<main class="container my-5" id="property-container">
  <!-- Content will be dynamically injected -->
</main>

<!-- Footer -->
<footer class="text-center">
  &copy; 2025 DreamHomes. All rights reserved.
</footer>

<!-- Script -->
<script>
  const container = document.getElementById("property-container");

  const params = new URLSearchParams(window.location.search);

  if (!params.has("name")) {
    container.innerHTML = `
      <div class="alert alert-danger text-center">
        <h4>No property selected</h4>
        <p>Please go to <a href="listings.html">Listings</a> and click on a property.</p>
      </div>
    `;
  } else {
    const name = params.get("name");
    const price = params.get("price");
    const size = params.get("size");
    const bhk = params.get("bhk");
    const baths = params.get("baths");
    const type = params.get("type");
    const desc = params.get("desc");
    const location = params.get("location");
    const image = params.get("image");
    const lat = params.get("lat");
    const lng = params.get("lng");

    document.title = `${name} | DreamHomes`;

    container.innerHTML = `
      <div class="property-header mb-4">
        <h2 class="mb-1">${name}</h2>
        <p class="text-muted">${location}</p>
      </div>

      <div class="row mb-4">
        <div class="col-md-7 mb-4 property-gallery">
          <img src="assets/images/${image}" alt="${name}" class="img-fluid shadow-sm" />
        </div>
        <div class="col-md-5">
          <h4>Property Overview</h4>
          <ul class="list-group list-group-flush mb-3">
            <li class="list-group-item">Price: â‚¹${price}</li>
            <li class="list-group-item">Size: ${size}</li>
            <li class="list-group-item">Bedrooms: ${bhk}</li>
            <li class="list-group-item">Bathrooms: ${baths}</li>
            <li class="list-group-item">Type: ${type}</li>
          </ul>
          <a href="mailto:agent@example.com" class="btn btn-primary w-100">Contact Agent</a>
        </div>
      </div>

      <div class="row mb-4">
        <div class="col-md-12">
          <h4>Description</h4>
          <p>${desc}</p>
        </div>
      </div>

      <div class="row mb-5">
        <div class="col-md-12 map-container">
          <h4 class="mb-3">Location</h4>
          <iframe 
            src="https://www.google.com/maps?q=${lat},${lng}&hl=en&z=14&output=embed"
            allowfullscreen loading="lazy" referrerpolicy="no-referrer-when-downgrade">
          </iframe>
        </div>
      </div>
    `;
  }
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
